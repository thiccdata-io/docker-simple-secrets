<div class="secret-display">
  <% if (updated) { %>
    <div class="alert alert-success" style="margin-bottom: 1rem;">âœ“ Secret updated successfully</div>
  <% } %>
  <pre class="secret-value"><%= secretValue %></pre>
  <div class="secret-actions">
    <button
      class="btn btn-small btn-secondary"
      onclick="document.getElementById('secret-value-<%= serviceName %>-<%= secretName %>').innerHTML=''">
      ğŸ‘ï¸ Hide
    </button>
    <button
      class="btn btn-small btn-secondary"
      hx-get="/services/<%= serviceName %>/secrets/<%= secretName %>/edit"
      hx-target="#secret-value-<%= serviceName %>-<%= secretName %>"
      hx-swap="innerHTML">
      âœï¸ Edit
    </button>
    <button
      class="btn btn-small btn-danger"
      hx-delete="/services/<%= serviceName %>/secrets/<%= secretName %>"
      hx-target="#services-list"
      hx-swap="innerHTML"
      hx-confirm="Are you sure you want to delete this secret? This action cannot be undone.">
      ğŸ—‘ï¸ Delete
    </button>
  </div>
</div>

<% if (updated) { %>
<script>
  // Update the deployment status indicator for this secret
  (function() {
    const statusIndicator = document.querySelector('.secret-item button[hx-get*="<%= serviceName %>/secrets/<%= secretName %>"]').parentElement.querySelector('.deployment-status');
    if (statusIndicator) {
      statusIndicator.className = 'deployment-status status-changed';
      statusIndicator.textContent = 'ğŸ”„';
      statusIndicator.title = 'Changes not deployed';
    }
  })();
</script>
<% } %>
